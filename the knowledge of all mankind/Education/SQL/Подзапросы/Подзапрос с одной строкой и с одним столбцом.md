---
title: Подзапрос с одной строкой и с одним столбцом
date: 2024-07-18
tags:
  - программирование
  - обучение
  - SQL
---

## Описание
Этот подзапрос возвращающем одну строку и один столбец (одно значение). Данный тип подзапросов также известен как скалярный подзапрос.

Он может использоваться в различных частях основного SQL запроса, но чаще всего он используется в условиях ограничений выборки с помощью операторов сравнения (`=`, `<>`, `>`, `<`).

Пример:
```sql
SELECT (SELECT name FROM company LIMIT 1) AS company_name;
```

```sql
SELECT * FROM FamilyMembers
    WHERE birthday = (SELECT MAX(birthday) FROM FamilyMembers);
```

## Важность соответствия используемого оператора и результата подзапроса

При использовании результата подзапроса с операторами сравнения, как в нашем примере, важно, чтобы подзапрос возвращал именно скалярное значение (1 строка и 1 колонка).

Если бы данный подзапрос вернул несколько значений, то СУБД бы вернула ошибку, сообщающую, что ожидалось, что подзапрос вернёт лишь 1 запись: «ER_SUBQUERY_NO_1_ROW: Subquery returns more than 1 row».

Поэтому стоит быть осторожным при написании подзапросов и представлять, какой результат вернёт подзапрос, и какие операторы мы можем использовать вместе с результирующим набором.

## Ссылки
- [[Подзапросы]]
- [[Операторы сравнения]]
